<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2017.2 (Released Jan 23, 2017) -->
<HTML>
<HEAD>
<TITLE>objref</TITLE>
<META NAME="description" CONTENT="objref">
<META NAME="keywords" CONTENT="ecolab">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2017.2">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ecolab.css">

<LINK REL="next" HREF="node98.html">
<LINK REL="previous" HREF="node90.html">
<LINK REL="up" HREF="node87.html">
<LINK REL="next" HREF="node98.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html1720"
  HREF="node98.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1714"
  HREF="node87.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1708"
  HREF="node96.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1716"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1718"
  HREF="node143.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1721"
  HREF="node98.html">Ptrlist</A>
<B> Up:</B> <A NAME="tex2html1715"
  HREF="node87.html">Graphcode</A>
<B> Previous:</B> <A NAME="tex2html1709"
  HREF="node96.html">Self linking nodes</A>
 &nbsp; <B>  <A NAME="tex2html1717"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1719"
  HREF="node143.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000153000000000000000"></A><A NAME="4911"></A><A NAME="objref"></A>
<BR>
objref
</H2>

<P>
For every object in the Graphcode system, there is an <code>objref</code> on
every processor referring to it.

<P>
Synopsis:
<PRE>
  class objref
  {
  public:
    GraphID_t ID;
    unsigned int proc;

    objref(GraphID_t id=0, int proc=myid(), object *o=NULL);
    objref(GraphID_t id, int proc, object &amp;o); 
    objref(const objref&amp; x);
    ~objref();

    objref&amp; operator=(const objref&amp; x); 
    object&amp; operator*();
    object* operator-&gt;();
    const object* operator-&gt;() const;
    const object* operator-&gt;() const;
    void addref(object* o, bool mflag=false); 
    bool nullref() const;
    void nullify();
  };
</PRE>

<P>
<DL>
<DT><STRONG>ID</STRONG></DT>
<DD>A unique integer value that identifies the object within a Graph
</DD>
<DT><STRONG>proc</STRONG></DT>
<DD>The location of the active copy of the object
</DD>
<DT><STRONG><TT>*, -&gt;</TT></STRONG></DT>
<DD>Dereferencing an objref allows one to access the
  object. It is an error to dereference a nullified objref.
</DD>
<DT><STRONG>addref</STRONG></DT>
<DD>Add an object to this reference. The <code>mflag</code>
  parameter indicates whether the object is managed (created by <code>new</code> or
  <code>lnew()</code>), and can be safely <code>deleted</code> when nullified, or
  is an external object that should not be deleted. An objref can also
  be instantiated already pointing to an unmanaged object via its constructor.
</DD>
<DT><STRONG>nullref</STRONG></DT>
<DD>whether this objref points to an object or not. If the
  active copy is on this processor, then nullref should be false.
  Otherwise, it may true or false depending on whether this processor
  has a cached copy of the object.
</DD>
<DT><STRONG>nullify</STRONG></DT>
<DD>Remove the object from the Graph (but leaving the
  objref in place). It is an error to remove the active copy, without
  replacing it with another object.
</DD>
</DL>

<P>
<BR><HR>

</BODY>
</HTML>
